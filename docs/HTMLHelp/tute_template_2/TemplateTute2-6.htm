<!doctype HTML public "-//W3C//DTD HTML 4.0 Frameset//EN">

<html>

<!--(==============================================================)-->
<!--(Document created with RoboEditor. )============================-->
<!--(==============================================================)-->

<head>

<title>Validation and Testing</title>

<!--(Meta)==========================================================-->

<meta http-equiv=content-type content="text/html; charset=windows-1252">
<meta name=generator content="RoboHELP by eHelp Corporation - www.ehelp.com">
<meta name=generator-major-version content=0.1>
<meta name=generator-minor-version content=1>
<meta name=filetype content=kadov>
<meta name=filetype-version content=1>
<meta name=page-count content=1>
<meta name=layout-height content=2507>
<meta name=layout-width content=1179>


<!--(Links)=========================================================-->

<link rel="StyleSheet" href="..\Hexedit.css">



</head>

<!--(Body)==========================================================-->


<body>

<h2><font style="font-family: Arial;"
			face=Arial>Step 6: Validation and Testing</font></h2>

<p>&nbsp;</p>

<p style="text-align: center;"
	align=center><a href="TemplateTute2-5.htm"><img src="../preva.gif"
													x-maintain-ratio=TRUE
													style="border-style: none;
															border: none;
															width: 52px;
															height: 24px;
															float: none;"
													width=52
													height=24
													border=0></a> <!--kadov_tag{{<spaces>}}-->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<!--kadov_tag{{</spaces>}}--><img 
 src="../nextx.gif"
	x-maintain-ratio=TRUE
	style="border-style: none;
			border: none;
			width: 52px;
			height: 24px;
			float: none;"
	width=52
	height=24
	border=0></p>

<p style="text-align: center;"
	align=center>&nbsp;</p>

<p>In this, the final, step of the tutorial we will add some more validation, 
 and a few more final touches. <!--kadov_tag{{<spaces>}}-->&nbsp;<!--kadov_tag{{</spaces>}}-->We 
 will also test the template with bad data by modifying the bytes in the 
 example data file we are using.</p>

<p>&nbsp;</p>

<p style="font-weight: bold;">Validating Rect and Circle Colors</p>

<p>&nbsp;</p>

<p>Now that we have used a JUMP so that &quot;col_table&quot; STRUCT appears 
 before the &quot;object&quot; FOR in the template we can validate that 
 the colid's of rect's and circles are correct.</p>

<p>&nbsp;</p>

<p class=Body-Text-Indent-2>1. Right-click the &quot;object&quot; structure 
 definition just below the root node and select &quot;Expand All&quot; 
 from the popup menu.</p>

<p class=Body-Text-Indent-2>2. Then find the &quot;colid&quot; DATA element 
 in the &quot;rect&quot; STRUCT and double-click it.</p>

<p class=Body-Text-Indent-2>3. Add &quot;this &lt; col_table.num_cols&quot; 
 in the &quot;Domain&quot; field and click OK.</p>

<p class=Body-Text-Indent-2>4. Do the same for &quot;colid&quot; in the 
 &quot;circle&quot; struct.</p>

<p class=Body-Text-Indent-2>&nbsp;</p>

<p style="text-align: center;"
	align=center><img src="tute2_6_1.gif"
						style="border-style: none;
								border: none;
								width: 444px;
								height: 301px;"
						width=444
						height=301
						border=0><span style="font-weight: bold;"><br>
<br>
Figure 1. Validating the colid is in range.</span></p>

<p>&nbsp;</p>

<p><img src="../tip.gif"
		style="border-style: none;
				border: none;
				width: 31px;
				height: 12px;"
		width=31
		height=12
		border=0>You can also display the rect and circle color in the 
 tree column by adding something like this &quot;COL = {col_table.col[this.colid].name}&quot; 
 to the &quot;Display&quot; field in the rect and circle STRUCTs.</p>

<p>&nbsp;</p>

<p style="font-weight: bold;">Date Arithmetic</p>

<p>&nbsp;</p>

<p>A date in HexEdit expressions is a type just like any other (eg, integers, 
 strings etc). <!--kadov_tag{{<spaces>}}-->&nbsp;<!--kadov_tag{{</spaces>}}-->You 
 can assign, display, compare and even do arithmetic on dates. <!--kadov_tag{{<spaces>}}-->&nbsp;<!--kadov_tag{{</spaces>}}-->To 
 demonstrate this we will validate that the last modified date is the same 
 or later than the created date.</p>

<p>&nbsp;</p>

<p class=Body-Text-Indent-2>5. Expand the &quot;header&quot; STRUCT..</p>

<p class=Body-Text-Indent-2>6. Double-click the &quot;modified&quot; date 
 element and in the &quot;Domain&quot; field enter &quot;this &gt;= created&quot; 
 and click OK.</p>

<p>&nbsp;</p>

<p style="text-align: center;"
	align=center><img src="tute2_6_2.gif"
						style="border-style: none;
								border: none;
								width: 444px;
								height: 301px;"
						width=444
						height=301
						border=0><span style="font-weight: bold;"><br>
<br>
Figure 2. Date validation.</span></p>

<p>&nbsp;</p>

<p>That's all there is to it!</p>

<p>&nbsp;</p>

<p style="font-weight: bold;">Testing with Bad Data</p>

<p>&nbsp;</p>

<p>It's a good idea to test a template with bad data. <!--kadov_tag{{<spaces>}}-->&nbsp;<!--kadov_tag{{</spaces>}}-->For 
 example, you might try opening a file of the wrong type and seeing what 
 happens when you apply the template. <!--kadov_tag{{<spaces>}}-->&nbsp;<!--kadov_tag{{</spaces>}}-->In 
 this section we are just going to make a few slight changes to the data 
 file so you can see what happens when validation of fields fails. <!--kadov_tag{{<spaces>}}-->&nbsp;<!--kadov_tag{{</spaces>}}-->We 
 will make changes to the original &quot;TUTORIAL.HEG&quot; file but don't 
 save the changes in case you or someone else wants to do this tutorial 
 again.</p>

<p>&nbsp;</p>

<p>The simplest way to change the bytes of the file for our test is to 
 use the template itself. <!--kadov_tag{{<spaces>}}-->&nbsp;<!--kadov_tag{{</spaces>}}-->You 
 can edit fields via the template (as long as they are not read-only) by 
 changing the value of the field in the &quot;Data&quot; column. <!--kadov_tag{{<spaces>}}-->&nbsp;<!--kadov_tag{{</spaces>}}-->To 
 show or hide any column you just need to right-click anywhere in the tree 
 window header and select the column from the list.</p>

<p>&nbsp;</p>

<p class=Body-Text-Indent-2>7. Right-click the tree column header (ie, 
 the area that shows the template file name, which should currently be 
 &quot;_HEG&quot;) and select the Data column.</p>

<p>&nbsp;</p>

<p style="text-align: center;"
	align=center><img src="tute2_6_3.gif"
						style="border-style: none;
								border: none;
								width: 239px;
								height: 233px;"
						width=239
						height=233
						border=0><span style="font-weight: bold;"><br>
<br>
Figure 3. <!--kadov_tag{{<spaces>}}-->&nbsp;<!--kadov_tag{{</spaces>}}-->Displaying 
 the Data column in the tree window.</span></p>

<p>&nbsp;</p>

<p class=Body-Text-Indent-2>8. Expand some nodes of the tree so you can 
 see the &quot;colid&quot; item of a rect or circle.</p>

<p class=Body-Text-Indent-2>9. Double-click in the corresponding Data column 
 and change the value to something invalid like &quot;99&quot; and press 
 Enter.</p>

<p class=Body-Text-Indent-2>&nbsp;</p>

<p style="text-align: center;"
	align=center><img src="tute2_6_4.gif"
						style="border-style: none;
								border: none;
								width: 329px;
								height: 376px;"
						width=329
						height=376
						border=0></p>

<p style="text-align: center;"
	align=center>&nbsp;</p>

<p style="text-align: center; font-weight: bold;"
	align=center>Figure 4. Creating an invalid &quot;colid&quot; to test 
 validation.</p>

<p>&nbsp;</p>

<p>At this point you are modifying the tutorial.HEG file through the template. 
 <!--kadov_tag{{<spaces>}}-->&nbsp;<!--kadov_tag{{</spaces>}}-->If it is 
 open read-only you will be asked to turn off read-only mode - just say 
 &quot;Yes&quot; and continue.</p>

<p>&nbsp;</p>

<p class=Body-Text-Indent-2>10. Then click the Refresh button (third button 
 on the Navigation toolbar).</p>

<p>&nbsp;</p>

<p><img src="../tip.gif"
		style="border-style: none;
				border: none;
				width: 31px;
				height: 12px;"
		width=31
		height=12
		border=0>After you make changes to the data of a file the template 
 is not reapplied until you click the Refresh button. <!--kadov_tag{{<spaces>}}-->&nbsp;<!--kadov_tag{{</spaces>}}-->This 
 allows multiple changes to be made without getting lots of error messages 
 while the file is in an inconsistent state.</p>

<p>&nbsp;</p>

<p>You might like to try other changes to the data file to test other parts 
 of the validation or just to see what will happen.</p>

<p>&nbsp;</p>

<p>It might also be useful for you to create a deliberate error (if you 
 haven't already created one accidentally) in a template expression to 
 see what will happen. <!--kadov_tag{{<spaces>}}-->&nbsp;<!--kadov_tag{{</spaces>}}-->That 
 way when you do make a mistake you will know what is happening and what 
 to do.</p>

<p>&nbsp;</p>

<p style="font-weight: bold;">Conclusion</p>

<p>&nbsp;</p>

<p>That concludes the tutorial. <!--kadov_tag{{<spaces>}}-->&nbsp;<!--kadov_tag{{</spaces>}}-->You 
 are now aware of the enormous flexibility and power of HexEdit templates. 
 <!--kadov_tag{{<spaces>}}-->&nbsp;<!--kadov_tag{{</spaces>}}-->The example 
 (HEG) file format is very simple -- you can (and many people have) created 
 much more complex templates that can display useful information on virtually 
 any sort of file format.</p>

<p>&nbsp;</p>

<p>If you create a template for a common file format please submit an issue to
 <a href="https://github.com/the-nerbs/HexEdit/issues">the repository</a> so
 it can be added to the built-in set of templates. It may one day be a lifesaver
 for somebody!</p>

<p>&nbsp;</p>

<p>For further information about templates and template files see: <a HREF="../overviewadvanced/Editing_templates.htm">Editing 
 templates</a>, <a HREF="../overviewadvanced/Expressions.htm">Expressions</a>, 
 and <a HREF="../overviewadvanced/Template_Files.htm">Template Files</a>.</p>

<p>&nbsp;</p>

<p style="text-align: center;"
	align=center><a HREF="TemplateTute2-5.htm"><img src="../preva.gif"
													x-maintain-ratio=TRUE
													style="border-style: none;
															border: none;
															width: 52px;
															height: 24px;
															float: none;"
													width=52
													height=24
													border=0></a> <!--kadov_tag{{<spaces>}}-->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<!--kadov_tag{{</spaces>}}--><img 
 src="../nextx.gif"
	x-maintain-ratio=TRUE
	style="border-style: none;
			border: none;
			width: 52px;
			height: 24px;
			float: none;"
	width=52
	height=24
	border=0></p>

<p>&nbsp;</p>

</body>

</html>
